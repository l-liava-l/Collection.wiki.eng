Collection have set of methods for working with local storages. Maintaining: `indexedDB`, `localStorage`, `sessionStorage`. If you want to add maintaining to another storage, then you need to expand the object [Collection.Drivers.Storage.Engines](https://github.com/kobezzza/Collection/blob/master/lib/core/drivers.storage.es6). By default data be stored in JSON but you also can to expand  [Collection.Drivers.Convertor.Engines](https://github.com/kobezzza/Collection/blob/master/lib/core/drivers.convertor.es6) and add Maintaining to other views (xml, yaml и т.д.).

## Methods for interaction with storage 

Для работы с хранилище определены 6 базовых методов:

* [save](https://github.com/kobezzza/Collection/wiki/%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%BC-%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B5%D0%BC#save)
* [saveAll](https://github.com/kobezzza/Collection/wiki/%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%BC-%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B5%D0%BC#saveall)
* [load](https://github.com/kobezzza/Collection/wiki/%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%BC-%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B5%D0%BC#load)
* [loadAll](https://github.com/kobezzza/Collection/wiki/%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%BC-%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B5%D0%BC#loadall)
* [drop](https://github.com/kobezzza/Collection/wiki/%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%BC-%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B5%D0%BC#drop)
* [dropAll](https://github.com/kobezzza/Collection/wiki/%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%BC-%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B5%D0%BC#dropall)

и 2 дополнительных:

* [loadDate](https://github.com/kobezzza/Collection/wiki/%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%BC-%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B5%D0%BC#loaddate)
* [isExpired](https://github.com/kobezzza/Collection/wiki/%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%BC-%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B5%D0%BC#isexpired)

### Общая схема работы

```js
// Сохраняем коллекцию в хранилище
$C([1, 2, 3]).save();

// Загружаем коллекцию из хранилища
$C().load();

// Очищаем хранилище
$C().drop();
```

#### namespace

Для того, чтобы не было «коллизий» при сохранении данных в хранилище

```js
$C([1, 2, 3]).save();
$C([5]).save();
$C().load().get() // [5]
```

в Collection существует специальный параметр **namespace** — это просто некоторая строка, которая позволяет «помечать» область сохранения и избежать проблем с перезаписью данных.

```js
$C([1, 2, 3]).save({namespace: 'foo'});
$C([5]).save({namespace: 'bar'});
$C().load({namespace: 'foo'}).get() // [1, 2, 3]
```

namespace является кластерным параметром, т.е. для его задания можно использовать [кластерное API](https://github.com/kobezzza/Collection/wiki/%D0%9A%D0%BB%D0%B0%D1%81%D1%82%D0%B5%D1%80%D0%BD%D0%BE%D0%B5-API).

```js
$C([1, 2, 3]).newNamespace('foo').save();
$C().newNamespace('foo').load().get() // [1, 2, 3]
```

#### lib

Для указания типа используемого хранилища (по умолчанию используется localStorage) применяется параметр **lib**.

```js
$C([1, 2, 3]).save({lib: 'sessionStorage'});
$C().load({lib: 'sessionStorage'}).get() // [1, 2, 3]
```

Следует учитывать, что для асинхронных интерфейсов необходимо использовать callback функции.

```js
$C([1, 2, 3]).save({lib: 'indexedDB'}, function () {
	$C().load({lib: 'indexedDB'}, function () {
		this.get() // [1, 2, 3]
	});
});
```

Для изменения значения по умолчанию необходимо изменить `Collection.Drivers.Storage.Engines.lib`.

```js
Collection.Drivers.Storage.Engines.lib = 'indexedDB';
```

#### convertor

Для указания типа используемого формата данных (по умолчанию используется json) применяется параметр **convertor**.

Для изменения значения по умолчанию необходимо изменить `Collection.Drivers.Convertor.Engines.lib`.

#### params

Объект, который будет передаваться в драйвер хранилища (для дополнительных параметров конкретного драйвера).

## API
### save

**save** сохраняет указанную коллекцию в хранилище.

#### Интерфейс

```js
save(opt_idOrParams, opt_onSuccess, opt_onError) { return this; }
```

#### Аргументы

1. `(string|Object)=` `opt_idOrParams = 'active'` — [ИД сохраняемой коллекции](https://github.com/kobezzza/Collection/wiki/%D0%95%D0%B4%D0%B8%D0%BD%D1%8B%D0%B9-%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81-%D0%B8%D1%82%D0%B5%D1%80%D0%B0%D1%82%D0%BE%D1%80%D0%BE%D0%B2#id) **ИЛИ** объект параметров метода.

2. `?function(this: Collection, !Object)=` `opt_onSuccess` — функция обратного вызова на успешную операцию (для хранилищ с синхронным API не обязательно, например, localStorage).

3. `?function(this: Collection, !Error)=` `opt_onError` — функция обратного вызова на случай ошибки.

##### Доступные параметры

* [id](https://github.com/kobezzza/Collection/wiki/%D0%95%D0%B4%D0%B8%D0%BD%D1%8B%D0%B9-%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81-%D0%B8%D1%82%D0%B5%D1%80%D0%B0%D1%82%D0%BE%D1%80%D0%BE%D0%B2#id)
* `onSuccess`
* `onError`
* [namespace](https://github.com/kobezzza/Collection/wiki/%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%BC-%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B5%D0%BC#namespace)
* [params](https://github.com/kobezzza/Collection/wiki/%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%BC-%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B5%D0%BC#params)
* [lib](https://github.com/kobezzza/Collection/wiki/%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%BC-%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B5%D0%BC#lib)
* [convertor](https://github.com/kobezzza/Collection/wiki/%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%BC-%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B5%D0%BC#convertor)

### saveAll

**saveAll** сохраняет все коллекции, которые содержаться в экземпляре, в хранилище.

#### Интерфейс

```js
saveAll(opt_onSuccessOrParams, opt_onError) { return this; }
```

#### Аргументы

1. `(function(this: Collection, !Object)|Object)=` `opt_onSuccessOrParams` — функция обратного вызова на успешную операцию (для хранилищ с синхронным API не обязательно, например, localStorage) **ИЛИ** объект параметров метода.

2. `?function(this: Collection, !Error)=` `opt_onError` — функция обратного вызова на случай ошибки.

##### Доступные параметры

* `onSuccess`
* `onError`
* [namespace](https://github.com/kobezzza/Collection/wiki/%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%BC-%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B5%D0%BC#namespace)
* [params](https://github.com/kobezzza/Collection/wiki/%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%BC-%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B5%D0%BC#params)
* [lib](https://github.com/kobezzza/Collection/wiki/%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%BC-%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B5%D0%BC#lib)
* [convertor](https://github.com/kobezzza/Collection/wiki/%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%BC-%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B5%D0%BC#convertor)

### load

**load** загружает из хранилища коллекцию по указанному ИД.

#### Интерфейс

```js
load(opt_idOrParams, opt_onSuccess, opt_onError) { return this; }
```

#### Аргументы

1. `(string|Object)=` `opt_idOrParams = 'active'` — [ИД загружаемой коллекции](https://github.com/kobezzza/Collection/wiki/%D0%95%D0%B4%D0%B8%D0%BD%D1%8B%D0%B9-%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81-%D0%B8%D1%82%D0%B5%D1%80%D0%B0%D1%82%D0%BE%D1%80%D0%BE%D0%B2#id) **ИЛИ** объект параметров метода.

2. `?function(this: Collection, !Object)=` `opt_onSuccess` — функция обратного вызова на успешную операцию (для хранилищ с синхронным API не обязательно, например, localStorage).

3. `?function(this: Collection, !Error)=` `opt_onError` — функция обратного вызова на случай ошибки.

##### Доступные параметры

* [id](https://github.com/kobezzza/Collection/wiki/%D0%95%D0%B4%D0%B8%D0%BD%D1%8B%D0%B9-%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81-%D0%B8%D1%82%D0%B5%D1%80%D0%B0%D1%82%D0%BE%D1%80%D0%BE%D0%B2#id)
* `onSuccess`
* `onError`
* [namespace](https://github.com/kobezzza/Collection/wiki/%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%BC-%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B5%D0%BC#namespace)
* [params](https://github.com/kobezzza/Collection/wiki/%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%BC-%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B5%D0%BC#params)
* [lib](https://github.com/kobezzza/Collection/wiki/%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%BC-%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B5%D0%BC#lib)
* [convertor](https://github.com/kobezzza/Collection/wiki/%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%BC-%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B5%D0%BC#convertor)

### loadAll

**loadAll** загружает все возможные коллекции из хранилища в заданном пространстве имён.

#### Интерфейс

```js
loadAll(opt_onSuccessOrParams, opt_onError) { return this; }
```

#### Аргументы

1. `(function(this: Collection, !Object)|Object)=` `opt_onSuccessOrParams` — функция обратного вызова на успешную операцию (для хранилищ с синхронным API не обязательно, например, localStorage) **ИЛИ** объект параметров метода.

2. `?function(this: Collection, !Error)=` `opt_onError` — функция обратного вызова на случай ошибки.

##### Доступные параметры

* `onSuccess`
* `onError`
* [namespace](https://github.com/kobezzza/Collection/wiki/%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%BC-%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B5%D0%BC#namespace)
* [params](https://github.com/kobezzza/Collection/wiki/%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%BC-%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B5%D0%BC#params)
* [lib](https://github.com/kobezzza/Collection/wiki/%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%BC-%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B5%D0%BC#lib)
* [convertor](https://github.com/kobezzza/Collection/wiki/%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%BC-%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B5%D0%BC#convertor)

### drop

**drop** удаляет из хранилища коллекцию по указанному ИД.

#### Интерфейс

```js
drop(opt_idOrParams, opt_onSuccess, opt_onError) { return this; }
```

#### Аргументы

1. `(string|Object)=` `opt_idOrParams = 'active'` — [ИД удаляемой коллекции](https://github.com/kobezzza/Collection/wiki/%D0%95%D0%B4%D0%B8%D0%BD%D1%8B%D0%B9-%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81-%D0%B8%D1%82%D0%B5%D1%80%D0%B0%D1%82%D0%BE%D1%80%D0%BE%D0%B2#id) **ИЛИ** объект параметров метода.

2. `?function(this: Collection, !Object)=` `opt_onSuccess` — функция обратного вызова на успешную операцию (для хранилищ с синхронным API не обязательно, например, localStorage).

3. `?function(this: Collection, !Error)=` `opt_onError` — функция обратного вызова на случай ошибки.

##### Доступные параметры

* [id](https://github.com/kobezzza/Collection/wiki/%D0%95%D0%B4%D0%B8%D0%BD%D1%8B%D0%B9-%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81-%D0%B8%D1%82%D0%B5%D1%80%D0%B0%D1%82%D0%BE%D1%80%D0%BE%D0%B2#id)
* `onSuccess`
* `onError`
* [namespace](https://github.com/kobezzza/Collection/wiki/%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%BC-%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B5%D0%BC#namespace)
* [params](https://github.com/kobezzza/Collection/wiki/%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%BC-%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B5%D0%BC#params)
* [lib](https://github.com/kobezzza/Collection/wiki/%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%BC-%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B5%D0%BC#lib)
* [convertor](https://github.com/kobezzza/Collection/wiki/%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%BC-%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B5%D0%BC#convertor)

### dropAll

**dropAll** удаляет все возможные коллекции из хранилища в заданном пространстве имён.

#### Интерфейс

```js
dropAll(opt_onSuccessOrParams, opt_onError) { return this; }
```

#### Аргументы

1. `(function(this: Collection, !Object)|Object)=` `opt_onSuccessOrParams` — функция обратного вызова на успешную операцию (для хранилищ с синхронным API не обязательно, например, localStorage) **ИЛИ** объект параметров метода.

2. `?function(this: Collection, !Error)=` `opt_onError` — функция обратного вызова на случай ошибки.

##### Доступные параметры

* `onSuccess`
* `onError`
* [namespace](https://github.com/kobezzza/Collection/wiki/%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%BC-%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B5%D0%BC#namespace)
* [params](https://github.com/kobezzza/Collection/wiki/%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%BC-%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B5%D0%BC#params)
* [lib](https://github.com/kobezzza/Collection/wiki/%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%BC-%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B5%D0%BC#lib)
* [convertor](https://github.com/kobezzza/Collection/wiki/%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%BC-%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B5%D0%BC#convertor)

### loadDate

**loadDate** загружает время последнего сохранения коллекции в хранилище.

#### Интерфейс

```js
loadDate(idOrParams, onSuccess, opt_onError) { return this; }
```

#### Аргументы

1. `(string|Object)` `idOrParams = 'active'` — [ИД коллекции](https://github.com/kobezzza/Collection/wiki/%D0%95%D0%B4%D0%B8%D0%BD%D1%8B%D0%B9-%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81-%D0%B8%D1%82%D0%B5%D1%80%D0%B0%D1%82%D0%BE%D1%80%D0%BE%D0%B2#id) **ИЛИ** объект параметров метода.

2. `function(this: Collection, Date)=` `onSuccess` — функция обратного вызова на успешную операцию.

3. `?function(this: Collection, !Error)=` `opt_onError` — функция обратного вызова на случай ошибки.

##### Доступные параметры

* [id](https://github.com/kobezzza/Collection/wiki/%D0%95%D0%B4%D0%B8%D0%BD%D1%8B%D0%B9-%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81-%D0%B8%D1%82%D0%B5%D1%80%D0%B0%D1%82%D0%BE%D1%80%D0%BE%D0%B2#id)
* `onError`
* [namespace](https://github.com/kobezzza/Collection/wiki/%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%BC-%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B5%D0%BC#namespace)
* [params](https://github.com/kobezzza/Collection/wiki/%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%BC-%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B5%D0%BC#params)
* [lib](https://github.com/kobezzza/Collection/wiki/%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%BC-%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B5%D0%BC#lib)
* [convertor](https://github.com/kobezzza/Collection/wiki/%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%BC-%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B5%D0%BC#convertor)

### isExpired

**isExpired** сравнивает заданное время со временем последнего сохранения указанной коллекции и возвращает `true` (в callback) если коллекция просрочена (относительного заданного времени).

#### Интерфейс

```js
isExpired(time, idOrParams, onSuccess, opt_onError) { return this; }
```

#### Аргументы

1. `number` `time` — время в миллисекундах.
2. `(string|Object)` `idOrParams = 'active'` — [ИД коллекции](https://github.com/kobezzza/Collection/wiki/%D0%95%D0%B4%D0%B8%D0%BD%D1%8B%D0%B9-%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81-%D0%B8%D1%82%D0%B5%D1%80%D0%B0%D1%82%D0%BE%D1%80%D0%BE%D0%B2#id) **ИЛИ** объект параметров метода.

3. `function(this: Collection, boolean)=` `onSuccess` — функция обратного вызова на успешную операцию.

4. `?function(this: Collection, !Error)=` `opt_onError` — функция обратного вызова на случай ошибки.

##### Доступные параметры

* [id](https://github.com/kobezzza/Collection/wiki/%D0%95%D0%B4%D0%B8%D0%BD%D1%8B%D0%B9-%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81-%D0%B8%D1%82%D0%B5%D1%80%D0%B0%D1%82%D0%BE%D1%80%D0%BE%D0%B2#id)
* `onError`
* [namespace](https://github.com/kobezzza/Collection/wiki/%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%BC-%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B5%D0%BC#namespace)
* [params](https://github.com/kobezzza/Collection/wiki/%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%BC-%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B5%D0%BC#params)
* [lib](https://github.com/kobezzza/Collection/wiki/%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%BC-%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B5%D0%BC#lib)
* [convertor](https://github.com/kobezzza/Collection/wiki/%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%BC-%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B5%D0%BC#convertor)
